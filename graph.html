<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph Plotter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.4.1/math.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="graph.css">
</head>
<body class="overflow-hidden">

    <div class="flex h-screen w-screen">
        <!-- Control Panel -->
        <div id="control-panel" class="panel w-full max-w-xs h-full border-r-2 flex flex-col shadow-lg z-10 transition-transform duration-300 md:translate-x-0 -translate-x-full absolute md:static">
            <div class="p-4 border-b-2 flex justify-between items-center" style="border-color: var(--border-color);">
                <h1 class="text-xl font-bold">Graph Plotter</h1>
                <!-- Theme Toggle -->
                <div class="flex items-center space-x-2">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
                    <label for="theme-toggle" class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="theme-toggle" class="sr-only peer">
                        <div class="w-11 h-6 theme-switch-track rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"></div>
                    </label>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6.364 6.364 0 0 0 0 12 6.364 6.364 0 0 0 0-12z"/><path d="M12 1v2"/><path d="M12 21v2"/><path d="m4.22 4.22 1.42 1.42"/><path d="m18.36 18.36 1.42 1.42"/><path d="M1 12h2"/><path d="M21 12h2"/><path d="m4.22 19.78 1.42-1.42"/><path d="m18.36 5.64 1.42-1.42"/></svg>
                </div>
            </div>

            <div id="function-list" class="flex-grow p-4 space-y-3 overflow-y-auto">
                <!-- Function inputs will be dynamically added here -->
            </div>

            <div class="p-4 border-t-2 grid grid-cols-2 gap-2" style="border-color: var(--border-color);">
                <button id="add-function-btn" class="w-full flex items-center justify-center bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-600 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                    Add Function
                </button>
                <button id="help-btn" class="w-full flex items-center justify-center bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-gray-600 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                    Help
                </button>
            </div>
        </div>

        <!-- Graph Area -->
        <div class="flex-grow relative h-full">
             <button id="menu-toggle" class="md:hidden absolute top-4 left-4 z-20 p-2 rounded-md" style="background-color: var(--panel-bg-color); border: 2px solid var(--border-color);">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6">
                    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <canvas id="graph-canvas" class="w-full h-full"></canvas>
             <div id="coords" class="absolute bottom-2 right-4 text-xs p-1 rounded" style="background-color: var(--panel-bg-color);"></div>
        </div>
    </div>

    <div id="help-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="panel w-full max-w-lg rounded-lg shadow-xl overflow-hidden">
            <div class="p-4 flex justify-between items-center border-b" style="border-color: var(--border-color);">
                <h2 class="text-lg font-bold">Supported Functions & Syntax</h2>
                <button id="close-modal-btn" class="p-1.5 rounded-md btn-hover">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            <div class="p-6 text-sm space-y-4 max-h-[70vh] overflow-y-auto">
                <p>You can use standard mathematical notation. The variable must be 'x'.</p>
                <div>
                    <h3 class="font-semibold mb-1">Operators</h3>
                    <code class="bg-gray-200 dark:bg-gray-700 rounded p-1">+ - * / ^</code>
                </div>
                <div>
                    <h3 class="font-semibold mb-1">Constants</h3>
                    <code class="bg-gray-200 dark:bg-gray-700 rounded p-1">pi, e</code>
                </div>
                <div>
                    <h3 class="font-semibold mb-1">Functions</h3>
                    <ul class="grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-1 list-disc list-inside">
                        <li>sin(x)</li>
                        <li>cos(x)</li>
                        <li>tan(x)</li>
                        <li>csc(x)</li>
                        <li>sec(x)</li>
                        <li>cot(x)</li>
                        <li>asin(x)</li>
                        <li>acos(x)</li>
                        <li>atan(x)</li>
                        <li>acsc(x)</li>
                        <li>asec(x)</li>
                        <li>acot(x)</li>
                        <li>sinh(x)</li>
                        <li>cosh(x)</li>
                        <li>tanh(x)</li>
                        <li>asinh(x)</li>
                        <li>acosh(x)</li>
                        <li>atanh(x)</li>
                        <li>log(x, base)</li>
                        <li>log10(x)</li>
                        <li>exp(x)</li>
                        <li>sqrt(x)</li>
                        <li>cbrt(x)</li>
                        <li>abs(x)</li>
                        <li>ceil(x)</li>
                        <li>floor(x)</li>
                        <li>round(x)</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold mb-1">Examples</h3>
                    <ul class="space-y-1">
                        <li><code class="bg-gray-200 dark:bg-gray-700 rounded p-1 w-full block">2*x^3 - 5*x + 1</code></li>
                        <li><code class="bg-gray-200 dark:bg-gray-700 rounded p-1 w-full block">sin(pi * x) * exp(-x^2)</code></li>
                        <li><code class="bg-gray-200 dark:bg-gray-700 rounded p-1 w-full block">tan(x) / (x+1)</code></li>
                        <li><code class="bg-gray-200 dark:bg-gray-700 rounded p-1 w-full block">log(abs(x) + 1, 2)</code></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="graph.js"></script>
</body>
</html>






